<style>
  .image-gallery {
    width: 100%;
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(200px, 1fr));
    justify-content: center;
    padding: 4px;
  }

  .box {
      flex-basis: 25%;
      width: 100%;
      padding: 10px;
      margin: 2px;
  }
</style>

<ul class="image-gallery">
    {% for file in site.static_files %}
    {% if file.path contains include.folder %}
    {% if file.extname == '.jpg' or file.extname == '.jpeg' or file.extname == '.JPG' or file.extname == '.JPEG' %}
    {% assign filenameparts = file.path | split: "/" %}
    {% assign filename = filenameparts | last | replace: file.extname,"" %}
    <div class="box">
        <a href="{{ file.path | relative_url }}" title="{{ filename }}">
            <img src="{{ file.path | relative_url }}" alt="{{ filename }}" title="{{ filename }}" class="image-gallery"/>
        </a>
    </div>
    {% endif %}
    {% endif %}
    {% endfor %}
</ul>
